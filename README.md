# Stock-Bot (A股全天候 AI 量化助手)

## 1. 项目简介
本项目是一个基于 Node.js 的自动化 A 股行情分析与决策辅助工具。它能够每日自动抓取自选股票的行情数据，利用传统的量化技术指标（RSI, MACD, 布林线等）结合大语言模型（GLM-4）进行深度解读，最终生成一份包含操作建议的分析报告，并通过微信推送给用户。

**核心价值**：将冷冰冰的 K 线数据转化为具有逻辑支撑的“老股民”式操盘建议，辅助用户进行投资决策。

## 2. 核心功能

### 2.1 自动化数据抓取
*   **数据源**：东方财富网 (EastMoney)
*   **数据类型**：日 K 线数据（OHLCV），支持前复权。
*   **覆盖范围**：支持沪深 A 股及主流指数（自动识别交易所前缀）。
*   **基准对比**：每次运行会自动抓取上证指数（000001）作为市场环境基准，供 AI 分析个股是否强于大盘。

### 2.2 多因子量化分析
在将数据发送给 AI 之前，系统会预先计算以下核心技术指标：
*   **均线系统**：MA5, MA12, MA20, MA72，用于判断长短周期趋势。
*   **RSI (相对强弱指标)**：判断个股是否处于超买或超卖区域。
*   **MACD (异同移动平均线)**：分析动能背离、金叉/死叉信号。
*   **布林线 (Bollinger Bands)**：利用统计学标准差原理，判断价格的压力位与支撑位。
*   **量能分析**：计算近5日平均换手率及当日量比，识别主力资金动向（吸筹、洗盘、出货）。

### 2.3 AI 深度决策 (LLM)
*   **模型**：智谱 AI (GLM-4-Flash)
*   **角色设定**：15年经验的 A 股量化交易专家。
*   **分析逻辑**：AI 不仅仅是看涨跌，而是结合上述量化指标、近期 K 线形态和大盘环境，进行综合研判。
*   **输出内容**：
    *   量价与动能分析
    *   形态与压力支撑
    *   综合情绪博弈
    *   **实战指令**：明确给出“看多/观望/减仓”评级，以及具体的买入点、止损点和仓位建议。

### 2.4 消息推送
*   **渠道**：微信 (通过 PushPlus 服务)
*   **格式**：Markdown 格式的富文本日报，阅读体验良好。
*   **场景感知**：根据运行时间自动判断是“盘前预警”、“盘中参考”还是“盘后复盘”。

### 2.5 任务调度
*   **定时任务**：集成了 `node-cron`，默认设定在每周一至周五的 **15:15** (收盘后) 自动运行，确保获取到当天的完整收盘数据。

## 3. 项目结构

```
/src
├── index.js        # 程序入口。负责任务调度、流程编排 (抓取->分析->推送)。
├── crawler.js      # 数据层。负责从东方财富接口获取原始 K 线数据。
├── ai.js           # 智能层。负责计算技术指标，构建 Prompt 并调用 LLM API。
├── pusher.js       # 推送层。负责调用 PushPlus 接口发送微信消息。
└── config.js       # 配置层。管理自选股列表 (WATCH_LIST) 和模型配置。
```

## 4. 快速开始

### 4.1 环境要求
*   Node.js (建议 v14+)
*   npm 或 yarn

### 4.2 安装依赖
```bash
npm install
# 或
yarn install
```

### 4.3 配置文件
请确保项目根目录下有 `.env` 文件，并包含以下必要信息：
```env
ZHIPU_API_KEY=your_zhipu_api_key   # 智谱 AI 的 API Key
PUSHPLUS_TOKEN=your_pushplus_token # PushPlus 的 Token (用于微信推送)
```

### 4.4 自选股配置
修改 `src/config.js` 文件，将 `WATCH_LIST` 替换为您关注的股票代码：
```javascript
module.exports = {
    WATCH_LIST: [
        '600519', // 贵州茅台
        '000858', // 五粮液
        // ...
    ],
    // ...
}
```

### 4.5 运行
**手动立即执行一次**：
```bash
node src/index.js
```
*(注：程序启动后会立即执行一次分析，随后进入定时任务待机状态)*

---
*风险提示：本项目生成的建议仅供技术交流参考，不构成任何投资建议。股市有风险，入市需谨慎。*
